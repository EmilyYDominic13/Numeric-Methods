#MÉTODO DE LA SECANTE

import numpy as np

print('\t\t\tPROGRAMA QUE RESUELVE ECUACIONES POR EL MÉTODO DE LA SECANTE\t\t\t')

fx = input('Escribe la función f(x): ')
f = eval(f'lambda x: {fx}')

#Pedimos los valores de arranque
p0 = float(input('Introduce la primera arpoximación inicial p0: '))
p1 = float(input('Introduce la segunda aproximación inicial p1: '))
itmax = int(input('Establezca el número máximo de iteraciones: '))
tol = float(input('Indica la tolerancia deseada: '))

i = 2

q0 = f(p0)
q1 = f(p1)

tabla = []

while(i<=itmax):
  p = p1 - q1*(p1-p0)/(q1-90)
  error = abs(p-p1)
  tabla.append([i, p, error])
  if (error<tol):
    break
  else:
    i+=1
    p0 = p1
    q0 = q1
    p1 = p
    q1 = f(p)

tabla = np.array(tabla)

#Imprimimos resultados
if(i>itmax):
  print('\nSe alcanzó el máximo de iteraciones, pero no la tolerancia...')
else:
  print('\nLa raíx aproximada es: ',p)
  print('La raix aproximada es: {:.5}'.format(p))
  print('Se alcanzó en la iteración: ',i)
  print('\n',tabla,'\n')
